<tr onclick="window.location='{% url 'jobs:detail' job.id %}'" style="cursor: pointer;">
    <td><code>{{ job.id|truncatechars:10 }}</code></td>
    <td>
        <a href="{% url 'jobs:node_detail' job.target_node.name %}" onclick="event.stopPropagation();">
            {{ job.target_node.name }}
        </a>
    </td>
    <td>
        {% if job.description %}
        <div class="fw-bold mb-1">{{ job.description }}</div>
        <code class="text-truncate d-inline-block text-muted small" style="max-width: 300px;">{{ job.command|truncatechars:60 }}</code>
        {% else %}
        <code class="text-truncate d-inline-block" style="max-width: 300px;">{{ job.command|truncatechars:60 }}</code>
        {% endif %}
    </td>
    <td>
        {% if job.status == 'succeeded' %}
        <span class="badge bg-success"><i class="bi bi-check-circle me-1"></i>Succeeded</span>
        {% elif job.status == 'failed' %}
        <span class="badge bg-danger"><i class="bi bi-x-circle me-1"></i>Failed</span>
        {% elif job.status == 'running' %}
        <span class="badge bg-primary"><i class="bi bi-hourglass-split me-1"></i>Running</span>
        {% elif job.status == 'lost' %}
        <span class="badge bg-warning text-dark"><i class="bi bi-exclamation-triangle me-1"></i>Lost</span>
        {% else %}
        <span class="badge bg-secondary"><i class="bi bi-clock me-1"></i>Queued</span>
        {% endif %}
    </td>
    <td>
        {% if job.exit_code is not None %}
        <code class="{% if job.exit_code == 0 %}text-success{% else %}text-danger{% endif %}">{{ job.exit_code }}</code>
        {% else %}
        <span class="text-muted">-</span>
        {% endif %}
    </td>
    <td>
        {% if job.duration_ms %}
        {{ job.duration_ms }}ms
        {% else %}
        <span class="text-muted">-</span>
        {% endif %}
    </td>
    <td class="small">{{ job.created_at|date:"M d, H:i" }}</td>
</tr>

